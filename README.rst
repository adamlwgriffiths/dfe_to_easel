===========================
darkFunction Editor to Easel
===========================

Converts `darkFunction Editor <http://darkfunction.com/editor/>`_ sprite sheet animations format to a json blob ready to use in `Easel <http://www.createjs.com/Docs/EaselJS/classes/SpriteSheet.html>`_.


Usage
=====

::

    python dfe_to_easel.py path/to/animation.anim path/to/save/to.json -f framerate



Example
=======

barbarian.anim::

    <?xml version="1.0"?>
    <!-- Generated by darkFunction Editor (www.darkfunction.com) -->
    <animations spriteSheet="barbarian.sprites" ver="1.2">
      <anim name="stand" loops="0">
        <cell index="0" delay="1">
          <spr name="/stand/0" x="0" y="-31" z="0"/>
        </cell>
      </anim>
      <anim name="attack" loops="0">
        <cell index="0" delay="4">
          <spr name="/attack_sword/0" x="-7" y="-26" z="0"/>
        </cell>
        <cell index="1" delay="4">
          <spr name="/attack_sword/1" x="-8" y="-24" z="0"/>
        </cell>
        <cell index="2" delay="4">
          <spr name="/attack_sword/2" x="2" y="-24" z="0"/>
        </cell>
        <cell index="3" delay="4">
          <spr name="/attack_sword/3" x="2" y="-24" z="0"/>
        </cell>
        <cell index="4" delay="4">
          <spr name="/attack_sword/4" x="18" y="-24" z="0"/>
        </cell>
      </anim>
      <anim name="walk" loops="0">
        <cell index="0" delay="4">
          <spr name="/walk/0" x="-2" y="-31" z="0"/>
        </cell>
        <cell index="1" delay="4">
          <spr name="/walk/1" x="-3" y="-31" z="0"/>
        </cell>
        <cell index="2" delay="4">
          <spr name="/walk/2" x="-3" y="-31" z="0"/>
        </cell>
        <cell index="3" delay="4">
          <spr name="/walk/1" x="-3" y="-31" z="0"/>
        </cell>
      </anim>
    </animations>


barbarian.sprites::

    <?xml version="1.0"?>
    <!-- Generated by darkFunction Editor (www.darkfunction.com) -->
    <img name="barbarian.png" w="390" h="581">
      <definitions>
        <dir name="/">
          <dir name="stand">
            <spr name="0" x="0" y="0" w="32" h="62"/>
          </dir>
          <dir name="walk">
            <spr name="0" x="35" y="0" w="28" h="62"/>
            <spr name="1" x="66" y="0" w="27" h="62"/>
            <spr name="2" x="96" y="0" w="27" h="62"/>
          </dir>
          <dir name="crouch">
            <spr name="0" x="128" y="0" w="32" h="48"/>
          </dir>
          <dir name="attack_sword">
            <spr name="0" x="199" y="0" w="46" h="51"/>
            <spr name="1" x="248" y="0" w="48" h="48"/>
            <spr name="2" x="299" y="0" w="28" h="48"/>
            <spr name="3" x="330" y="0" w="29" h="48"/>
            <spr name="4" x="0" y="69" w="60" h="48"/>
          </dir>
        </dir>
      </definitions>
    </img>


command::

    python dfe_to_easel.py barbarian.anim barbarian.json


barbarian.json::

    {
        "animations": {
            "attack": {
                "frames": [5, 6, 7, 8, 9 ],
                "speed": 1
            },
            "stand": {
                "frames": [0],
                "speed": 1
            },
            "walk": {
                "frames": [1,2,3,2],
                "speed": 1
            }
        },
        "framerate": 20,
        "frames": [
            [0,0,32,62,0,0,-31],
            [35,0,28,62,0,-2,-31],
            [66,0,27,62,0,-3,-31],
            [96,0,27,62,0,-3,-31],
            [128,0,32,48,0,0,0],
            [199,0,46,51,0,-7,-26],
            [248,0,48,48,0,-8,-24],
            [299,0,28,48,0,2,-24],
            [330,0,29,48,0,2,-24],
            [0,69,60,48,0,18,-24]
        ],
        "images": ["barbarian.png"]
    }


Known issues
============

* per-frame 'delay' is ignored as Easel only supports per-anim speed (Easel limitation).
* all animations are set to speed 1 (Easel limitation).
* only supports first sprite in animation (Easel limitation).


Author
======

* `Adam Griffiths <https://github.com/adamlwgriffiths>`_
